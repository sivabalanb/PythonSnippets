import requests
from bs4 import BeautifulSoup
import os
import time
import csv

# Read the CSV to compare it to old prices
def read_csv():
	try:
		with open('price_tracker.csv') as csv_file:
			reader = csv.reader(csv_file)
			old_prices = DictReader(reader)
			print(old_prices)

	except Exception as e:
		old_prices = {}
		print("Failed to read the csv:\t",e)

	return old_prices

# Looping through the given list of hotel to find the prices
def find_the_prices(url):
	
	headers = requests.utils.default_headers()
	headers.update({
	    'User-Agent': 'Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36',
	})

	Link = requests.get(url, headers=headers)
	soup =BeautifulSoup(Link.content,"lxml")

	hotel_name =  soup.find('title')
	hotel_name = hotel_name.text

	tags = soup.findAll("span", {"class": "eDCB7b"})
	price = []
	for tag in tags:
		price_t = tag.text.encode("utf-8")[5:]
		price_decoded = str(price_t, 'utf-8')
		
		price_t = price_decoded.replace(",", "")
		try:
			price_t = int(price_t)
		except Exception as e:
			print("Exception while converting the price to integer:\t",price_t)
		
		if isinstance(price_t, int):
			price.append(price_t)

	print(price)
	print("{} -->\tMinimum price: {} \tMaximum price: {}".format(hotel_name,min(price),max(price)))
	
	my_hotel_dict[hotel_name] = min(price)
	print(my_hotel_dict)

	return my_hotel_dict

def write_to_csv(my_hotel_dict):

	filename = 'price_tracker.csv'
	#old_prices = read_csv()
	file_exists = os.path.isfile(filename)
	try:
		with open(filename, 'a') as f:  # Just use 'w' mode in 3.x
		    w = csv.DictWriter(f, my_hotel_dict.keys())
		    if not file_exists:
		    	w.writeheader()
		    w.writerow(my_hotel_dict)

	except Exception as e:
		print("Error in write_to_csv:\t",e)

if __name__ == '__main__':

	# ibis patong, Sawaddi Patong, BEYOND PATONG, Amari Phuket, Larn Park Resortel, C&N Resort and Spa, Holiday Inn Express, New Square Patong, Journey Hub, Hyatt Phuket, Ramada, Crest Resort, Burasari Phuket, The Senses Resort
	# Sea Sun Sand Resort & Spa, The Marina Phuket Hotel, Baan Laimai Beach Resort Patong, Phuket, Avista Hideaway Phuket, MAI HOUSE Patong Hill

	urls = ['https://www.google.com/travel/hotels/Pa%20Tong/place/16453739004053377292?ap=MAE&g2lb=4181926%2C4208993%2C4209588%2C4223281%2C4225903%2C4227717%2C4207631%2C4215556%2C4220469&hl=en&gl=in&un=0&q=hotels%20in%20patong&rp=OAFAAA&ictx=1&ved=0CAwQqOACKABqFwoTCJiP4oaitd8CFQAAAAAdAAAAABAS&hrf=CgUI8C4QACIDSU5SKhYKBwjjDxADGAkSBwjjDxADGAwYAyABcgIIAZoBCBIGUGF0b25nogETCgkvbS8wNDR0ZDUSBlBhdG9uZ5IBAiAB&tcfs=Ei0KCS9tLzA0NHRkNRIGUGF0b25nGhgKCjIwMTktMDMtMDkSCjIwMTktMDMtMTIYASIYCgoyMDE5LTAzLTA5EgoyMDE5LTAzLTEyUgA',
			'https://www.google.com/travel/hotels/Pa%20Tong/place/4699819833549293507/overview?ap=MAFwAA&g2lb=4181926%2C4208993%2C4209588%2C4223281%2C4225903%2C4227717%2C4207631%2C4215556%2C4220469&hl=en&gl=in&un=0&q=hotels%20in%20patong&rp=OAFAAA&ictx=1&ved=0CCgQqOACKAJqFwoTCJiP4oaitd8CFQAAAAAdAAAAABAS&hrf=CgUI8C4QACIDSU5SKhYKBwjjDxADGAkSBwjjDxADGAwYAyABcgIIAZoBCBIGUGF0b25nogETCgkvbS8wNDR0ZDUSBlBhdG9uZ5IBAiAB&tcfs=Ei0KCS9tLzA0NHRkNRIGUGF0b25nGhgKCjIwMTktMDMtMDkSCjIwMTktMDMtMTIYASIYCgoyMDE5LTAzLTA5EgoyMDE5LTAzLTEyUgA',
			'https://www.google.com/travel/hotels/Pa%20Tong/place/6607623895747200583/overview?ap=MAFwAA&g2lb=4181926%2C4208993%2C4209588%2C4223281%2C4225903%2C4227717%2C4207631%2C4215556%2C4220469&hl=en&gl=in&un=0&q=hotels%20in%20patong&rp=OAFAAA&ictx=1&ved=0CEQQqOACKARqFwoTCJiP4oaitd8CFQAAAAAdAAAAABAS&hrf=CgUI8C4QACIDSU5SKhYKBwjjDxADGAkSBwjjDxADGAwYAyABcgIIAZoBCBIGUGF0b25nogETCgkvbS8wNDR0ZDUSBlBhdG9uZ5IBAiAB&tcfs=Ei0KCS9tLzA0NHRkNRIGUGF0b25nGhgKCjIwMTktMDMtMDkSCjIwMTktMDMtMTIYASIYCgoyMDE5LTAzLTA5EgoyMDE5LTAzLTEyUgA',
			'https://www.google.com/travel/hotels/Pa%20Tong/place/16983106095437923098?ap=MAFaTgoFCPAuEAAiA0lOUioWCgcI4w8QARgOEgcI4w8QARgPGAEoAHICCAGaAQgSBlBhdG9uZ6IBEwoJL20vMDQ0dGQ1EgZQYXRvbmeSAQIgAXAA&g2lb=4181926%2C4208993%2C4209588%2C4223281%2C4225903%2C4227717%2C4207631%2C4215556%2C4220469&hl=en&gl=in&un=0&q=hotels%20in%20patong&rp=OAFAAA&ictx=1&ved=0CHcQqOACKAhqFwoTCJiP4oaitd8CFQAAAAAdAAAAABAq&hrf=CgUI8C4QACIDSU5SKhYKBwjjDxABGA4SBwjjDxABGA8YASgAaAhyAggBmgEIEgZQYXRvbmeiARMKCS9tLzA0NHRkNRIGUGF0b25nkgECIAE&tcfs=Ei0KCS9tLzA0NHRkNRIGUGF0b25nGhgKCjIwMTktMDEtMTQSCjIwMTktMDEtMTUYAVIA',
			'https://www.google.com/travel/hotels/Pa%20Tong/place/15295205321631316176/overview?ap=MAFwAA&g2lb=4181926%2C4208993%2C4209588%2C4223281%2C4225903%2C4227717%2C4207631%2C4215556%2C4220469&hl=en&gl=in&un=0&q=hotels%20in%20patong&rp=OAFAAA&ictx=1&ved=0CCgQqOACKAJqFwoTCJiP4oaitd8CFQAAAAAdAAAAABBm&hrf=CgUI8C4QACIDSU5SKhYKBwjjDxADGAkSBwjjDxADGAwYAyABaAhyAggBmgEIEgZQYXRvbmeiARMKCS9tLzA0NHRkNRIGUGF0b25nkgECIAE&tcfs=Ei0KCS9tLzA0NHRkNRIGUGF0b25nGhgKCjIwMTktMDMtMDkSCjIwMTktMDMtMTIYASIYCgoyMDE5LTAzLTA5EgoyMDE5LTAzLTEyUgA',
			'https://www.google.com/travel/hotels/Pa%20Tong/place/997620782875815276?ap=MAFwAA&g2lb=4181926%2C4208993%2C4209588%2C4223281%2C4225903%2C4227717%2C4207631%2C4215556%2C4220469&hl=en&gl=in&un=0&q=hotels%20in%20patong&rp=OAFAAA&ictx=1&ved=0CF4QqOACKAZqFwoTCJiP4oaitd8CFQAAAAAdAAAAABBm&hrf=CgUI8C4QACIDSU5SKhYKBwjjDxADGAkSBwjjDxADGAwYAyABaAhyAggBmgEIEgZQYXRvbmeiARMKCS9tLzA0NHRkNRIGUGF0b25nkgECIAE&tcfs=Ei0KCS9tLzA0NHRkNRIGUGF0b25nGhgKCjIwMTktMDMtMDkSCjIwMTktMDMtMTIYASIYCgoyMDE5LTAzLTA5EgoyMDE5LTAzLTEyUgA',
			'https://www.google.com/travel/hotels/Pa%20Tong/place/17111668012580459286?ap=MAFwAA&g2lb=4181926%2C4208993%2C4209588%2C4223281%2C4225903%2C4227717%2C4207631%2C4215556%2C4220469&hl=en&gl=in&un=0&q=hotels%20in%20patong&rp=OAFAAA&ictx=1&ved=0CG0QqOACKAdqGAoTCJiP4oaitd8CFQAAAAAdAAAAABCyAQ&hrf=CgUI8C4QACIDSU5SKhYKBwjjDxADGAkSBwjjDxADGAwYAyABaAhyAggBmgEIEgZQYXRvbmeiARMKCS9tLzA0NHRkNRIGUGF0b25nkgECIAE&tcfs=Ei0KCS9tLzA0NHRkNRIGUGF0b25nGhgKCjIwMTktMDMtMDkSCjIwMTktMDMtMTIYASIYCgoyMDE5LTAzLTA5EgoyMDE5LTAzLTEyUgA',
			'https://www.google.com/travel/hotels/Pa%20Tong/place/11639514129054060565/overview?ap=KlQKEgmmfXSNt0UfQBHq1GOJBpBYQBISCVNMayvnECBAEVadQMoqmVhAGioKGxEgOdKpmJRYQBkmiyXywrMfQAneipJB2mf5QBoGCKADEPgEJZqZUUEwAXAA&g2lb=4181926%2C4208993%2C4209588%2C4223281%2C4225903%2C4227717%2C4207631%2C4215556%2C4220469&hl=en&gl=in&un=0&q=hotels%20in%20patong&rp=OAFAAA&ictx=1&ved=0CG4QqOACKAdqFwoTCJDzpsGntd8CFQAAAAAdAAAAABAW&hrf=CgUI8C4QACIDSU5SKhYKBwjjDxADGAkSBwjjDxADGAwYAyABaAhyAggBmgEIEgZQYXRvbmeiARMKCS9tLzA0NHRkNRIGUGF0b25nkgECIAE&tcfs=Ei0KCS9tLzA0NHRkNRIGUGF0b25nGhgKCjIwMTktMDMtMDkSCjIwMTktMDMtMTIYASIYCgoyMDE5LTAzLTA5EgoyMDE5LTAzLTEyUgA',
			'https://www.google.com/travel/hotels/Pa%20Tong/place/6084034192506951535/overview?ap=KlQKEgmmfXSNt0UfQBHq1GOJBpBYQBISCVNMayvnECBAEVadQMoqmVhAGioKGxEgOdKpmJRYQBkmiyXywrMfQAneipJB2mf5QBoGCKADEPgEJZqZUUEwAXAA&g2lb=4181926%2C4208993%2C4209588%2C4223281%2C4225903%2C4227717%2C4207631%2C4215556%2C4220469&hl=en&gl=in&un=0&q=hotels%20in%20patong&rp=OAFAAA&ictx=1&ved=0CDYQqOACKANqFwoTCJDzpsGntd8CFQAAAAAdAAAAABAW&hrf=CgUI8C4QACIDSU5SKhYKBwjjDxADGAkSBwjjDxADGAwYAyABaAhyAggBmgEIEgZQYXRvbmeiARMKCS9tLzA0NHRkNRIGUGF0b25nkgECIAE&tcfs=Ei0KCS9tLzA0NHRkNRIGUGF0b25nGhgKCjIwMTktMDMtMDkSCjIwMTktMDMtMTIYASIYCgoyMDE5LTAzLTA5EgoyMDE5LTAzLTEyUgA',
			'https://www.google.com/travel/hotels/Pa%20Tong/place/15124167736024278125?ap=EgNDQXcqVAoSCaZ9dI23RR9AEerUY4kGkFhAEhIJU0xrK-cQIEARVp1AyiqZWEAaKgobESA50qmYlFhAGSaLJfLCsx9ACd6KkkHaZ_lAGgYIoAMQ-AQlmplRQTADWlQKBQjwLhAAIgNJTlIqFgoHCOMPEAMYCRIHCOMPEAMYDBgDIAE4BDgFaAhyAggBmgEIEgZQYXRvbmeiARMKCS9tLzA0NHRkNRIGUGF0b25nkgECIAFwAA&g2lb=4181926%2C4208993%2C4209588%2C4223281%2C4225903%2C4227717%2C4207631%2C4215556%2C4220469&hl=en&gl=in&un=0&q=hotels%20in%20patong&rp=OAFAAA&ictx=1&ved=0CAwQqOACKABqFwoTCJDzpsGntd8CFQAAAAAdAAAAABB1&hrf=CgUI8C4QACIDSU5SKhYKBwjjDxADGAkSBwjjDxADGAwYAyABOAQ4BWgBcgIIAZoBCBIGUGF0b25nogETCgkvbS8wNDR0ZDUSBlBhdG9uZ5IBAiAB&tcfs=Ei0KCS9tLzA0NHRkNRIGUGF0b25nGhgKCjIwMTktMDMtMDkSCjIwMTktMDMtMTIYASIYCgoyMDE5LTAzLTA5EgoyMDE5LTAzLTEyUgJIBA',
			'https://www.google.com/travel/hotels/Pa%20Tong/place/11616903417879953370?ap=KlQKEgmmfXSNt0UfQBHq1GOJBpBYQBISCVNMayvnECBAEVadQMoqmVhAGioKGxEgOdKpmJRYQBkmiyXywrMfQAneipJB2mf5QBoGCKADEPgEJZqZUUEwAVpUCgUI8C4QACIDSU5SKhYKBwjjDxADGAkSBwjjDxADGAwYAyABOAQ4BWgIcgIIAZoBCBIGUGF0b25nogETCgkvbS8wNDR0ZDUSBlBhdG9uZ5IBAiABcAA&g2lb=4181926%2C4208993%2C4209588%2C4223281%2C4225903%2C4227717%2C4207631%2C4215556%2C4220469&hl=en&gl=in&un=0&q=hotels%20in%20patong&rp=OAFAAA&ictx=1&ved=0CCgQqOACKAJqFwoTCJDzpsGntd8CFQAAAAAdAAAAABBb&hrf=CgUI8C4QACIDSU5SKhYKBwjjDxADGAkSBwjjDxADGAwYAyABOAQ4BWgBcgIIAZoBCBIGUGF0b25nogETCgkvbS8wNDR0ZDUSBlBhdG9uZ5IBAiAB&tcfs=Ei0KCS9tLzA0NHRkNRIGUGF0b25nGhgKCjIwMTktMDMtMDkSCjIwMTktMDMtMTIYASIYCgoyMDE5LTAzLTA5EgoyMDE5LTAzLTEyUgJIBA',
			'https://www.google.com/travel/hotels/Pa%20Tong/place/15378878201955459390/overview?ap=KlQKEgmmfXSNt0UfQBHq1GOJBpBYQBISCVNMayvnECBAEVadQMoqmVhAGioKGxEgOdKpmJRYQBkmiyXywrMfQAneipJB2mf5QBoGCKADEPgEJZqZUUEwAVpUCgUI8C4QACIDSU5SKhYKBwjjDxADGAkSBwjjDxADGAwYAyABOAQ4BWgIcgIIAZoBCBIGUGF0b25nogETCgkvbS8wNDR0ZDUSBlBhdG9uZ5IBAiABcAA&g2lb=4181926%2C4208993%2C4209588%2C4223281%2C4225903%2C4227717%2C4207631%2C4215556%2C4220469&hl=en&gl=in&un=0&q=hotels%20in%20patong&rp=OAFAAA&ictx=1&ved=0CIoBEKjgAigJahcKEwiQ86bBp7XfAhUAAAAAHQAAAAAQWw&hrf=CgUI8C4QACIDSU5SKhYKBwjjDxADGAkSBwjjDxADGAwYAyABOAQ4BWgBcgIIAZoBCBIGUGF0b25nogETCgkvbS8wNDR0ZDUSBlBhdG9uZ5IBAiAB&tcfs=Ei0KCS9tLzA0NHRkNRIGUGF0b25nGhgKCjIwMTktMDMtMDkSCjIwMTktMDMtMTIYASIYCgoyMDE5LTAzLTA5EgoyMDE5LTAzLTEyUgJIBA',
			'https://www.google.com/travel/hotels/Pa%20Tong/place/1518868532600587926/overview?ap=EgNDQmcqVAoSCRjoZAPhaB9AEY09yQ6-kVhAEhIJcJQKNOzWH0ARE_H0HlCWWEAaKgobEVAX3xYHlFhAGUS-t5vmnx9ACanN_J8oaOlAGgYIoAMQ-AQlmplRQTADWlQKBQjwLhAAIgNJTlIqFgoHCOMPEAMYCRIHCOMPEAMYDBgDIAE4BDgFaAhyAggBmgEIEgZQYXRvbmeiARMKCS9tLzA0NHRkNRIGUGF0b25nkgECIAFwAA&g2lb=4181926%2C4208993%2C4209588%2C4223281%2C4225903%2C4227717%2C4207631%2C4215556%2C4220469&hl=en&gl=in&un=0&q=hotels%20in%20patong&rp=OAFAAA&ictx=1&ved=0CIoBEKjgAigJahgKEwiQ86bBp7XfAhUAAAAAHQAAAAAQigE&hrf=CgUI8C4QACIDSU5SKhYKBwjjDxADGAkSBwjjDxADGAwYAyABOAQ4BWgBcgIIAZoBCBIGUGF0b25nogETCgkvbS8wNDR0ZDUSBlBhdG9uZ5IBAiAB&tcfs=Ei0KCS9tLzA0NHRkNRIGUGF0b25nGhgKCjIwMTktMDMtMDkSCjIwMTktMDMtMTIYASIYCgoyMDE5LTAzLTA5EgoyMDE5LTAzLTEyUgJIBA',
			'https://www.google.com/travel/hotels/Pa%20Tong/place/15157839091956856186/overview?ap=KlQKEgmmfXSNt0UfQBHq1GOJBpBYQBISCVNMayvnECBAEVadQMoqmVhAGioKGxEgOdKpmJRYQBkmiyXywrMfQAneipJB2mf5QBoGCKADEPgEJZqZUUEwAVpUCgUI8C4QACIDSU5SKhYKBwjjDxADGAkSBwjjDxADGAwYAyABOAQ4BWgIcgIIAZoBCBIGUGF0b25nogETCgkvbS8wNDR0ZDUSBlBhdG9uZ5IBAiABcAA&g2lb=4181926%2C4208993%2C4209588%2C4223281%2C4225903%2C4227717%2C4207631%2C4215556%2C4220469&hl=en&gl=in&un=0&q=hotels%20in%20patong&rp=OAFAAA&ictx=1&ved=0CKYBEKjgAigLahcKEwiQ86bBp7XfAhUAAAAAHQAAAAAQWw&hrf=CgUI8C4QACIDSU5SKhYKBwjjDxADGAkSBwjjDxADGAwYAyABOAQ4BWgBcgIIAZoBCBIGUGF0b25nogETCgkvbS8wNDR0ZDUSBlBhdG9uZ5IBAiAB&tcfs=Ei0KCS9tLzA0NHRkNRIGUGF0b25nGhgKCjIwMTktMDMtMDkSCjIwMTktMDMtMTIYASIYCgoyMDE5LTAzLTA5EgoyMDE5LTAzLTEyUgJIBA',
			'https://www.google.com/travel/hotels/Pa%20Tong/place/14499077602239708720/overview?ap=EgNDQ1EqVAoSCRjoZAPhaB9AEY09yQ6-kVhAEhIJcJQKNOzWH0ARE_H0HlCWWEAaKgobEVAX3xYHlFhAGUS-t5vmnx9ACanN_J8oaOlAGgYIoAMQ-AQlmplRQTADWlQKBQjwLhAAIgNJTlIqFgoHCOMPEAMYCRIHCOMPEAMYDBgDIAE4BDgFaAhyAggBmgEIEgZQYXRvbmeiARMKCS9tLzA0NHRkNRIGUGF0b25nkgECIAFwAA&g2lb=4181926%2C4208993%2C4209588%2C4223281%2C4225903%2C4227717%2C4207631%2C4215556%2C4220469&hl=en&gl=in&un=0&q=hotels%20in%20patong&rp=OAFAAA&ictx=1&ved=0CCgQqOACKAJqGAoTCJDzpsGntd8CFQAAAAAdAAAAABCgAQ&hrf=CgUI8C4QACIDSU5SKhYKBwjjDxADGAkSBwjjDxADGAwYAyABOAQ4BWgBcgIIAZoBCBIGUGF0b25nogETCgkvbS8wNDR0ZDUSBlBhdG9uZ5IBAiAB&tcfs=Ei0KCS9tLzA0NHRkNRIGUGF0b25nGhgKCjIwMTktMDMtMDkSCjIwMTktMDMtMTIYASIYCgoyMDE5LTAzLTA5EgoyMDE5LTAzLTEyUgJIBA',
			'https://www.google.com/travel/hotels/Pa%20Tong/place/3612933513927847285/overview?ap=EgNDQ1EqVAoSCRjoZAPhaB9AEY09yQ6-kVhAEhIJcJQKNOzWH0ARE_H0HlCWWEAaKgobEVAX3xYHlFhAGUS-t5vmnx9ACanN_J8oaOlAGgYIoAMQ-AQlmplRQTADWlQKBQjwLhAAIgNJTlIqFgoHCOMPEAMYCRIHCOMPEAMYDBgDIAE4BDgFaAhyAggBmgEIEgZQYXRvbmeiARMKCS9tLzA0NHRkNRIGUGF0b25nkgECIAFwAA&g2lb=4181926%2C4208993%2C4209588%2C4223281%2C4225903%2C4227717%2C4207631%2C4215556%2C4220469&hl=en&gl=in&un=0&q=hotels%20in%20patong&rp=OAFAAA&ictx=1&ved=0CDYQqOACKANqGAoTCJDzpsGntd8CFQAAAAAdAAAAABCgAQ&hrf=CgUI8C4QACIDSU5SKhYKBwjjDxADGAkSBwjjDxADGAwYAyABOAQ4BWgBcgIIAZoBCBIGUGF0b25nogETCgkvbS8wNDR0ZDUSBlBhdG9uZ5IBAiAB&tcfs=Ei0KCS9tLzA0NHRkNRIGUGF0b25nGhgKCjIwMTktMDMtMDkSCjIwMTktMDMtMTIYASIYCgoyMDE5LTAzLTA5EgoyMDE5LTAzLTEyUgJIBA',
			'https://www.google.com/travel/hotels/Pa%20Tong/place/16099859276895270271/overview?ap=EgNDQ1EqVAoSCRjoZAPhaB9AEY09yQ6-kVhAEhIJcJQKNOzWH0ARE_H0HlCWWEAaKgobEVAX3xYHlFhAGUS-t5vmnx9ACanN_J8oaOlAGgYIoAMQ-AQlmplRQTADWlQKBQjwLhAAIgNJTlIqFgoHCOMPEAMYCRIHCOMPEAMYDBgDIAE4BDgFaAhyAggBmgEIEgZQYXRvbmeiARMKCS9tLzA0NHRkNRIGUGF0b25nkgECIAFwAA&g2lb=4181926%2C4208993%2C4209588%2C4223281%2C4225903%2C4227717%2C4207631%2C4215556%2C4220469&hl=en&gl=in&un=0&q=hotels%20in%20patong&rp=OAFAAA&ictx=1&ved=0CFIQqOACKAVqGAoTCJDzpsGntd8CFQAAAAAdAAAAABCgAQ&hrf=CgUI8C4QACIDSU5SKhYKBwjjDxADGAkSBwjjDxADGAwYAyABOAQ4BWgBcgIIAZoBCBIGUGF0b25nogETCgkvbS8wNDR0ZDUSBlBhdG9uZ5IBAiAB&tcfs=Ei0KCS9tLzA0NHRkNRIGUGF0b25nGhgKCjIwMTktMDMtMDkSCjIwMTktMDMtMTIYASIYCgoyMDE5LTAzLTA5EgoyMDE5LTAzLTEyUgJIBA',
			'https://www.google.com/travel/hotels/Pa%20Tong/place/17902324686925083405?ap=EgNDREEqVAoSCRjoZAPhaB9AEY09yQ6-kVhAEhIJcJQKNOzWH0ARE_H0HlCWWEAaKgobEVAX3xYHlFhAGUS-t5vmnx9ACanN_J8oaOlAGgYIoAMQ-AQlmplRQTADWlQKBQjwLhAAIgNJTlIqFgoHCOMPEAMYCRIHCOMPEAMYDBgDIAE4BDgFaAhyAggBmgEIEgZQYXRvbmeiARMKCS9tLzA0NHRkNRIGUGF0b25nkgECIAFwAA&g2lb=4181926%2C4208993%2C4209588%2C4223281%2C4225903%2C4227717%2C4207631%2C4215556%2C4220469&hl=en&gl=in&un=0&q=hotels%20in%20patong&rp=OAFAAA&ictx=1&ved=0CCgQqOACKAJqGAoTCJDzpsGntd8CFQAAAAAdAAAAABDAAQ&hrf=CgUI8C4QACIDSU5SKhYKBwjjDxADGAkSBwjjDxADGAwYAyABOAQ4BWgBcgIIAZoBCBIGUGF0b25nogETCgkvbS8wNDR0ZDUSBlBhdG9uZ5IBAiAB&tcfs=Ei0KCS9tLzA0NHRkNRIGUGF0b25nGhgKCjIwMTktMDMtMDkSCjIwMTktMDMtMTIYASIYCgoyMDE5LTAzLTA5EgoyMDE5LTAzLTEyUgJIBA',
			'https://www.google.com/travel/hotels/Pa%20Tong/place/13567883295572288008?ap=EgNDREEqVAoSCRjoZAPhaB9AEY09yQ6-kVhAEhIJcJQKNOzWH0ARE_H0HlCWWEAaKgobEVAX3xYHlFhAGUS-t5vmnx9ACanN_J8oaOlAGgYIoAMQ-AQlmplRQTADWlQKBQjwLhAAIgNJTlIqFgoHCOMPEAMYCRIHCOMPEAMYDBgDIAE4BDgFaAhyAggBmgEIEgZQYXRvbmeiARMKCS9tLzA0NHRkNRIGUGF0b25nkgECIAFwAA&g2lb=4181926%2C4208993%2C4209588%2C4223281%2C4225903%2C4227717%2C4207631%2C4215556%2C4220469&hl=en&gl=in&un=0&q=hotels%20in%20patong&rp=OAFAAA&ictx=1&ved=0CKYBEKjgAigLahgKEwiQ86bBp7XfAhUAAAAAHQAAAAAQwAE&hrf=CgUI8C4QACIDSU5SKhYKBwjjDxADGAkSBwjjDxADGAwYAyABOAQ4BWgBcgIIAZoBCBIGUGF0b25nogETCgkvbS8wNDR0ZDUSBlBhdG9uZ5IBAiAB&tcfs=Ei0KCS9tLzA0NHRkNRIGUGF0b25nGhgKCjIwMTktMDMtMDkSCjIwMTktMDMtMTIYASIYCgoyMDE5LTAzLTA5EgoyMDE5LTAzLTEyUgJIBA']

	my_hotel_dict = {}

	while True:
		for url in urls:
			my_hotel_dict = find_the_prices(url)
			time.sleep(180)
		print("my_hotel_dict before writing it to csv:\t",my_hotel_dict)
		write_to_csv(my_hotel_dict)
		time.sleep(14400)